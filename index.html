<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Neomya</title>

  <!-- Quicksand (comme Base44) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css?v=10001">

  <!-- Netlify Identity (pour /admin) -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>

<body>

  <!-- HEADER -->
  <header class="header">
    <div class="container header-inner">

      <div class="brand">
        <a href="#top">
          <img src="assets/logo_color_horiz.png" alt="Neomya" class="logo">
        </a>
      </div>

      <nav class="nav js-nav">
        <a href="#solution">Solution</a>
        <a href="#benefices">Bénéfices</a>
        <a href="#fonctionnement">Fonctionnement</a>
      </nav>

      <a class="btn btn-primary btn-small" href="#demo">Demander une démo</a>

    </div>
  </header>

  <!-- HERO -->
  <main id="top" class="hero">
    <div class="container hero-grid">
      <div class="hero-left">
        <h1 id="hero_title" class="hero-title"></h1>

        <p id="hero_p1" class="hero-subtitle"></p>
        <p id="hero_p2" class="hero-subtitle"></p>
        <p id="hero_p3" class="hero-subtitle"></p>

        <div class="hero-linkline">
          <span class="arrow-link">→</span>
          <span id="hero_linkline"></span>
        </div>

        <div class="hero-cta">
          <a class="btn btn-primary" href="#demo">
            <span id="hero_button"></span>
            <span class="arrow">→</span>
          </a>
          <a class="btn btn-secondary" href="#fonctionnement" id="hero_secondary"></a>
        </div>

        <p class="hero-note" id="hero_note"></p>
      </div>

      <!-- Mock UI -->
      <div class="hero-right">
        <div class="chat-card">
          <div class="chat-top">
            <img src="assets/symbol_color.png" class="chat-logo" alt="">
            <div>
              <div class="chat-title" id="mock_header_title"></div>
              <div class="chat-subtitle" id="mock_header_subtitle"></div>
            </div>
          </div>

          <div class="chat-bubble chat-user" id="mock_user_message"></div>

          <div class="chat-bubble chat-bot">
            <div class="chat-bot-title" id="mock_summary_title"></div>
            <ul class="chat-list">
              <li><span class="dot"></span> <span id="mock_b1"></span></li>
              <li><span class="dot"></span> <span id="mock_b2"></span></li>
              <li><span class="dot"></span> <span id="mock_b3"></span></li>
            </ul>
          </div>

          <div class="chat-bubble chat-bot" id="mock_confirm"></div>

          <div class="chat-inputbar">
            <div class="chat-field">
              <span class="chat-placeholder" id="mock_placeholder"></span>
              <span class="chat-send">
                <img src="assets/icons/send.svg" alt="envoyer">
              </span>
            </div>

            <span class="chat-mic">
              <img src="assets/icons/mic.svg" alt="micro">
            </span>
          </div>

        </div>
      </div>

    </div>
  </main>

  <!-- SOLUTION -->
  <section id="solution" class="section">
    <div class="container">
      <h2 class="section-title center" id="assistant_title"></h2>

      <div class="cards-3 assistant-cards">

        <div class="card card-soft mint">
          <div class="card-top">
            <div class="num">01</div>
            <div class="top-right">
              <img src="assets/icons/chat.svg" class="assistant-icon" alt="">
            </div>
          </div>
          <h3 id="assistant_1_title"></h3>
          <p id="assistant_1_text"></p>
        </div>

        <div class="card card-soft violet">
          <div class="card-top">
            <div class="num">02</div>
            <div class="top-right">
              <img src="assets/icons/send.svg" class="assistant-icon" alt="">
            </div>
          </div>
          <h3 id="assistant_2_title"></h3>
          <p id="assistant_2_text"></p>
        </div>

        <div class="card card-soft gray">
          <div class="card-top">
            <div class="num">03</div>
            <div class="top-right">
              <img src="assets/icons/link.svg" class="assistant-icon" alt="">
            </div>
          </div>
          <h3 id="assistant_3_title"></h3>
          <p id="assistant_3_text"></p>
        </div>

      </div>
    </div>
  </section>

  <!-- ECOSYSTEME -->
  <section id="ecosysteme" class="section">
    <div class="container center">
      <h2 class="section-title" id="ecosystem_title"></h2>
      <p class="section-subtitle" id="ecosystem_subtitle"></p>

      <div class="eco-visual" aria-hidden="true">
        <div class="eco-hub">
          <img src="assets/logo_color.png" alt="" class="eco-hub-logo">
        </div>
      </div>

      <div class="eco-cards-grid">
        <div class="eco-card">
          <div class="eco-icon"><img src="assets/icons/eco-residences.png" alt=""></div>
          <h3 id="eco_1_title"></h3>
          <p id="eco_1_text"></p>
        </div>

        <div class="eco-card">
          <div class="eco-icon"><img src="assets/icons/eco-prestataires.png" alt=""></div>
          <h3 id="eco_2_title"></h3>
          <p id="eco_2_text"></p>
        </div>

        <div class="eco-card">
          <div class="eco-icon"><img src="assets/icons/eco-familles.png" alt=""></div>
          <h3 id="eco_3_title"></h3>
          <p id="eco_3_text"></p>
        </div>

        <div class="eco-card">
          <div class="eco-icon"><img src="assets/icons/eco-quartier.png" alt=""></div>
          <h3 id="eco_4_title"></h3>
          <p id="eco_4_text"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- TABLEAU DE BORD -->
  <section id="dashboard" class="section">
    <div class="container">
      <div class="dashboard-head">
        <h2 class="section-title with-icon">
          <span class="title-icon title-icon-graphique" aria-hidden="true"></span>
          <span id="dashboard_title"></span>
        </h2>
        <p class="section-subtitle" id="dashboard_text"></p>
      </div>

      <figure class="dash-figure">
        <img src="assets/dashboard.png" alt="Tableau de bord Neomya" class="dash-img">
      </figure>
    </div>
  </section>

  <!-- BENEFICES -->
  <section id="benefices" class="section">
    <div class="container">
      <h2 class="section-title center" id="benefits_title"></h2>

      <div class="cards-2x2">
        <div class="card benefit-card">
          <div class="benefit-top">
            <span class="benefit-ico benefit-ico-mint"></span>
            <span class="tag mint" id="b1_tag"></span>
          </div>
          <h3 id="b1_title"></h3>
          <p id="b1_text"></p>
        </div>

        <div class="card benefit-card">
          <div class="benefit-top">
            <span class="benefit-ico benefit-ico-violet"></span>
            <span class="tag violet" id="b2_tag"></span>
          </div>
          <h3 id="b2_title"></h3>
          <p id="b2_text"></p>
        </div>

        <div class="card benefit-card">
          <div class="benefit-top">
            <span class="benefit-ico benefit-ico-gray"></span>
            <span class="tag gray" id="b3_tag"></span>
          </div>
          <h3 id="b3_title"></h3>
          <p id="b3_text"></p>
        </div>

        <div class="card benefit-card">
          <div class="benefit-top">
            <span class="benefit-ico benefit-ico-mint"></span>
            <span class="tag mint" id="b4_tag"></span>
          </div>
          <h3 id="b4_title"></h3>
          <p id="b4_text"></p>
        </div>
      </div>

      <div class="benefits-footer" id="benefits_footer"></div>
    </div>
  </section>

  <!-- MISE EN OEUVRE -->
  <section id="fonctionnement" class="section">
    <div class="container">
      <h2 class="section-title center" id="implementation_title"></h2>

      <div class="implementation-grid">

        <div class="impl-card impl-card-prereq">
          <h3 class="impl-title" id="prereq_title"></h3>
          <ul class="impl-checklist">
            <li><span class="impl-check" aria-hidden="true"></span><span id="prereq_1"></span></li>
            <li><span class="impl-check" aria-hidden="true"></span><span id="prereq_2"></span></li>
            <li><span class="impl-check" aria-hidden="true"></span><span id="prereq_3"></span></li>
            <li><span class="impl-check" aria-hidden="true"></span><span id="prereq_4"></span></li>
          </ul>
        </div>

        <div class="impl-card impl-card-steps">
          <h3 class="impl-title" id="deploy_title"></h3>

          <div class="impl-steps">
            <div class="impl-step">
              <span class="impl-step-ico"><img src="assets/icons/catalogue.png" alt=""></span>
              <div class="impl-step-text">
                <div class="impl-step-name" id="deploy_1_title"></div>
                <div class="impl-step-desc" id="deploy_1_text"></div>
              </div>
            </div>

            <div class="impl-step">
              <span class="impl-step-ico violet"><img src="assets/icons/link.svg" alt=""></span>
              <div class="impl-step-text">
                <div class="impl-step-name" id="deploy_2_title"></div>
                <div class="impl-step-desc" id="deploy_2_text"></div>
              </div>
            </div>

            <div class="impl-step">
              <span class="impl-step-ico gray"><img src="assets/icons/groupe.png" alt=""></span>
              <div class="impl-step-text">
                <div class="impl-step-name" id="deploy_3_title"></div>
                <div class="impl-step-desc" id="deploy_3_text"></div>
              </div>
            </div>

            <div class="impl-step">
              <span class="impl-step-ico violet"><img src="assets/icons/fusee.png" alt=""></span>
              <div class="impl-step-text">
                <div class="impl-step-name" id="deploy_5_title"></div>
                <div class="impl-step-desc" id="deploy_5_text"></div>
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </section>

  <!-- DEMO -->
  <section id="demo" class="section section-soft">
    <div class="container center">
      <h2 class="section-title" id="demo_title"></h2>
      <p class="section-subtitle" id="demo_subtitle"></p>

      <form class="demo-form" name="demo" method="POST" netlify netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="demo" />

        <p class="hidden">
          <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
        </p>

        <div class="form-grid">
          <div>
            <label>Prénom *</label>
            <input name="prenom" placeholder="Jean" required>
          </div>
          <div>
            <label>Nom *</label>
            <input name="nom" placeholder="Dupont" required>
          </div>
          <div>
            <label>Entreprise / Groupe *</label>
            <input name="entreprise" placeholder="Nom de votre entreprise" required>
          </div>
          <div>
            <label>Fonction</label>
            <select name="fonction">
              <option>Sélectionnez</option>
              <option>Direction</option>
              <option>Exploitation</option>
              <option>Finance</option>
              <option>DSI</option>
              <option>Autre</option>
            </select>
          </div>
          <div>
            <label>Email *</label>
            <input type="email" name="email" placeholder="jean.dupont@entreprise.com" required>
          </div>
          <div>
            <label>Téléphone</label>
            <input name="telephone" placeholder="06 12 34 56 78">
          </div>
          <div class="full">
            <label>Nombre de résidences</label>
            <select name="residences">
              <option>Sélectionnez</option>
              <option>1 résidence</option>
              <option>2–10 résidences</option>
              <option>10+ résidences</option>
            </select>
          </div>
          <div class="full checkbox-row">
            <input type="checkbox" id="estimation" name="estimation">
            <label for="estimation">Je souhaite une estimation personnalisée des gains potentiels</label>
          </div>
        </div>

        <button class="btn btn-primary btn-full" type="submit">
          Demander une démo <span class="arrow">→</span>
        </button>

        <div class="form-badges">
          <span class="badge"><img src="assets/icons/clock.svg" alt="">Réponse sous 24h</span>
          <span class="badge"><img src="assets/icons/check.svg" alt="">Aucun engagement</span>
          <span class="badge"><img src="assets/icons/shield.svg" alt="">Données confidentielles</span>
        </div>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-inner">
      <img src="assets/symbol_color.png" alt="" class="footer-mark">
      <div class="footer-text">© <span id="footer_year"></span> Neomya • Smart care. Human touch.</div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    document.getElementById("footer_year").textContent = new Date().getFullYear();

    async function loadContent() {
      try {
        const res = await fetch("content/homepage.json", { cache: "no-store" });
        if (!res.ok) throw new Error("Fetch homepage.json failed: " + res.status);
        const data = await res.json();

        for (const key in data) {
          const el = document.getElementById(key);
          if (!el) continue;
          const value = String(data[key]).replace(/\n/g, "<br>");
          el.innerHTML = value;
        }
      } catch (err) {
        console.error(err);
      }
    }
    loadContent();
  </script>

  <!-- Smooth scroll menu (seulement la nav) -->
  <script>
    (function () {
      const nav = document.querySelector(".js-nav");
      if (!nav) return;

      function headerOffset() {
        const header = document.querySelector(".header");
        const h = header ? header.offsetHeight : 0;
        return h + 24;
      }

      function smoothScrollTo(hash) {
        const target = document.querySelector(hash);
        if (!target) return;
        const top = target.getBoundingClientRect().top + window.scrollY - headerOffset();
        window.scrollTo({ top, behavior: "smooth" });
      }

      nav.addEventListener("click", (e) => {
        const a = e.target.closest('a[href^="#"]');
        if (!a) return;

        const hash = a.getAttribute("href");
        if (!hash || hash === "#") return;

        e.preventDefault();
        history.pushState(null, "", hash);
        smoothScrollTo(hash);
      });

      window.addEventListener("load", () => {
        if (location.hash) {
          const hash = location.hash;
          setTimeout(() => smoothScrollTo(hash), 50);
        }
      });
    })();
  </script>

  <!-- Netlify identity init -->
  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
      window.netlifyIdentity.init();
    }
  </script>

  <!-- Netlify form detection fallback -->
  <form name="demo" netlify netlify-honeypot="bot-field" hidden>
    <input type="text" name="prenom" />
    <input type="text" name="nom" />
    <input type="text" name="entreprise" />
    <input type="text" name="fonction" />
    <input type="email" name="email" />
    <input type="text" name="telephone" />
    <input type="text" name="residences" />
    <input type="checkbox" name="estimation" />
  </form>

</body>
</html>

